<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
    <ui:composition template="/templates/modeloGeral.xhtml">
        <ui:define name="conteudo">
            <style type="text/css">
                .AlturaLinhas {
                    width: 700px;
                }
            </style>

            <h:form id="frmConfiguracao" >
                <!--CADASTRO DE INCUBADORA-->
                <p:panel >
                    <!--Listagem de usuários-->
                    <p:outputPanel style="text-align:center;">
                        <p:outputLabel value="Configurações da Incubadora, Sistema e Relatórios" />
                        <p:separator />
                    </p:outputPanel>
                    <p:accordionPanel >
                        <p:tab id="panel" title="Informações da incubadora" >
                            <p:panel >
                                <h:panelGrid id="pgEditar" style="text-align:right;" columns="3">
                                    <p:outputLabel for="nome" value="Nome: " />
                                    <p:inputText id="nome" value="#{ConfiguracoesView.inc.nome}" required="true" size="45" maxlength="255"
                                                 requiredMessage="#{ConfiguracoesView.geraMsgGenericaCampoObrigatorioView()}" />
                                    <p:message for="nome"/>

                                    <p:outputLabel for="universidade" value="Universidade: " />  
                                    <p:inputText id="universidade" value="#{ConfiguracoesView.inc.universidade}" size="45" maxlength="255" />
                                    <p:message for="universidade"/>

                                    <p:outputLabel for="redeItcp" value="Rede ITCP " />
                                    <p:inputText id="redeItcp" value="#{ConfiguracoesView.inc.redeItcp}" size="45" maxlength="255" />
                                    <p:message for="redeItcp"/>

                                    <p:outputLabel for="dataCriacao" value="Data de criação " />
                                    <p:calendar id="dataCriacao" value="#{ConfiguracoesView.inc.dataCriacao}" pattern="dd/MM/yyyy" 
                                                size="45" mask="true" locale="pt" required="true" 
                                                requiredMessage="A data de criação é obrigatória." />
                                    <p:message for="dataCriacao"/>
                                </h:panelGrid>

                                <br/>
                                <p:outputLabel value="* Campos obrigatórios" />

                                <p:separator />
                                <p:commandButton id="btnSalvar" value="Salvar" actionListener="#{ConfiguracoesView.salvarInc()}" 
                                                 update="frmConfiguracao" icon="SalvarPreto24-iconfinder"
                                                 onclick="PF('blockUiGeral').show()" oncomplete="PF('blockUiGeral').hide()" >
                                    <p:confirm header="ATENÇÃO!" message="Deseja realmente salvar?" icon="Alert24-iconfinder" />
                                </p:commandButton>
                            </p:panel>
                        </p:tab>

                        <p:tab title="Imagem no topo do sistema">
                            <p:panel header="Configurar imagem de topo" styleClass="pn100px">
                                <p:fileUpload fileUploadListener="#{ConfiguracoesView.setaImagemTopo}" mode="advanced" auto="true"
                                              label="Clique para modificar a imagem" allowTypes="/(\.|\/)(gif|jpe?g|png)$/" 
                                              update="ftmImagemTopoGeral frmConfiguracao" 
                                              invalidFileMessage="Somente arquivos: PNG; JPG; GIF"/>

                                <p:spacer height="10px"/>
                                <p:panel header="Imagem atual">
                                    <p:graphicImage width="50%" height="50%" styleClass="semMargin"
                                                    value="./image/imagenTopo/#{ConfiguracoesView.inc.getFotoTelaGeral()}"/>
                                </p:panel>
                            </p:panel>
                        </p:tab>

                        <p:tab title="Imagem de fundo da tela de login">
                            <p:panel header="Configurar imagem de fundo da tela de login" >
                                <p:fileUpload fileUploadListener="#{ConfiguracoesView.setaImagemFundo}" mode="advanced" auto="true"
                                              label="Clique para modificar a imagem" allowTypes="/(\.|\/)(gif|jpe?g|png)$/" 
                                              update="ftmImagemTopoGeral frmConfiguracao" 
                                              invalidFileMessage="Somente arquivos: PNG; JPG; GIF" />

                                <p:spacer height="10px"/>
                                <p:panel header="Imagem atual">
                                    <p:graphicImage width="25%" height="25%" styleClass="semMargin"
                                                    value="./image/imagenFundo/#{ConfiguracoesView.inc.getFotoFundoLogin()}"/>
                                </p:panel>
                            </p:panel>                        
                        </p:tab>

                        <p:tab title="Imagem do cabeçalho dos relatórios" >
                            <p:panel header="Configurar imagem de cabeçalho dos relatórios" >
                                <p:fileUpload fileUploadListener="#{ConfiguracoesView.setaImagemTopoRelatorio}" mode="advanced" auto="true"
                                              label="Clique para modificar a imagem" allowTypes="/(\.|\/)(gif|jpe?g|png)$/" 
                                              update="ftmImagemTopoGeral frmConfiguracao" 
                                              invalidFileMessage="Somente arquivos: PNG; JPG; GIF"/>

                                <p:spacer height="10px"/>
                                <p:panel header="Imagem atual">
                                    <p:graphicImage width="50%" height="50%" styleClass="semMargin"
                                                    value="./image/imagemTopoRelatorio/#{ConfiguracoesView.inc.getFotoTopoRelatorio()}"/>
                                </p:panel>
                            </p:panel>
                        </p:tab>
                    </p:accordionPanel>
                </p:panel>
            </h:form>
        </ui:define>
    </ui:composition>
</html>