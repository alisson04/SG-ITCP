<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
    <ui:composition template="/templates/modeloGeral.xhtml">
        <ui:define name="conteudo">
            <style type="text/css">
                .AlturaLinhas {
                    width: 700px;
                }
            </style>

            <h:form id="frmCadastro" >
                <p:tabView dynamic="true" cache="true">
                    <p:tab title="Calendário de atividades da incubadora">
                        <h:panelGrid columnClasses="AlturaLinhas" >
                            <p:schedule id="schedule" value="#{inicioView.eventModel}" widgetVar="myschedule" timeZone="GMT+2" locale="pt">
                                <p:ajax event="eventSelect" listener="#{inicioView.onEventSelect}" update="eventDetails" 
                                        oncomplete="PF('eventDialog').show();" />
                            </p:schedule>
                        </h:panelGrid>

                        <p:dialog widgetVar="eventDialog" header="Detalhes da atividade" showEffect="clip" hideEffect="clip" >
                            <h:panelGrid id="eventDetails" columns="2">
                                <h:outputText value="Nome: " />
                                <h:outputText value="#{inicioView.event.title}" />
                                <h:outputText value="Data de início: " />
                                <h:outputText value="#{inicioView.conveteData(inicioView.event.startDate)}" />
                                <h:outputText value="Data de fim: " />
                                <h:outputText value="#{inicioView.conveteData(inicioView.event.endDate)}" />
                            </h:panelGrid>
                        </p:dialog>
                    </p:tab>

                    <p:tab title="Calendário de atividades da incubadora">
                        <p:growl id="growlTime" showSummary="true" showDetail="true" autoUpdate="true"/> 
                        <p:timeline id="timeline" value="#{inicioView.model}" height="350px" 
                                    selectable="#{inicioView.selectable}" 
                                    zoomable="#{inicioView.zoomable}" 
                                    moveable="#{inicioView.moveable}" 
                                    stackEvents="#{inicioView.stackEvents}" 
                                    axisOnTop="#{inicioView.axisOnTop}"              
                                    eventStyle="#{inicioView.eventStyle}" 
                                    showCurrentTime="#{inicioView.showCurrentTime}" 
                                    showNavigation="#{inicioView.showNavigation}" 
                                    locale="pt"> 

                            <p:ajax event="select" listener="#{inicioView.onSelect}"/>  

                        </p:timeline>

                    </p:tab>
                </p:tabView>


            </h:form>
        </ui:define>

    </ui:composition>
</html>